var popup_msg_open=!1,icon_dex=0;const icons=["icon.ico","https://cdn.jsdelivr.net/gh/Ratulhasan14789/Web-Leach_pub@main/resources/icon.ico","?leach_bkp/icon.ico"],logos=["https://i.ibb.co/D4KnFRC/emo-angel-titled-w400.png","data/temp/emo_angel_titled_w400.png","/?leach_bkp/emo_angel_titled_w400.png"];function switch_icon(){icon_dex=(icon_dex+1)%icons.length,document.head.innerHTML+="<link rel='icon' href='"+icons[icon_dex]+"'>"}function switch_logo(){icon_dex=(logo_dex+1)%logos.length,document.getElementById("logo-img").href=logos[logo_dex]}function helped_user(e=0){if(0==e){var t=localStorage.getItem("?helped-user");return"undefined"!=t&&null!=t}localStorage.setItem("?helped-user",e)}function is_in(e,t){return t.indexOf(e)>-1}var panel2disable=["S-image-border"];class Datas{constructor(){this.page_style=["bd","se"],this.images_loc=["a.jpg","b.jpg","c.jpg"],this.pages_list=["xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff","xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff","xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff","xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff","xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff","xx","aa","yy","zz","zzz","aa","bb","cc","dd","ee","ff"],this.current_page_index=0,this.current_page_name=this.pages_list[this.current_page_index],this.proj_name="aaaaaaaaa",this.themes=["Tron"],this.current_theme=0,this.is_webkit=-1!=navigator.userAgent.indexOf("AppleWebKit"),this.is_edge=-1!=navigator.userAgent.indexOf("Edg"),this.cssVar=document.querySelector(":root")}set_data(){document.title=this.proj_name+" Â» "+this.pages_list[this.current_page_index],document.getElementById("proj_name").innerHTML+=this.proj_name,document.getElementById("page_title").innerHTML+=this.current_page_name,document.getElementById("go2main").href="../"+this.proj_name+".html"}get_css(e){return getComputedStyle(this.cssVar).getPropertyValue(e)}set_css(e,t){this.cssVar.style.setProperty(e,t)}}let datas=new Datas;datas.set_data();class Tools{sleep(e){return new Promise(t=>setTimeout(t,e))}set_brightness(e=0){var t,s=document.getElementById("brightness-input"),a=document.getElementById("brightness");0==e&&((t=sessionStorage.getItem("bright"))?(t=parseInt(t),s.value=t):e=1),1==e&&(t=s.value,sessionStorage.setItem("bright",t)),a.style.opacity=.7-.07*t}}let tools=new Tools;tools.set_brightness();class Accordion_{constructor(){this.acc=document.getElementsByClassName("accordion");for(let e=0;e<this.acc.length;e++)this.acc[e].addEventListener("click",function(){this.classList.toggle("accordion-active");var e=this.nextElementSibling;e.classList.contains("accordion-panel")&&("block"===e.style.display?e.style.display="none":(e.style.display="block",slider_control.slider_fix_tick()))});document.getElementById("add_theme_name").innerHTML+="["+datas.themes[datas.current_theme]+"]"}}let accordion=new Accordion_;class SwitchBtn_{constructor(){var e=this;this.switch_btn=document.getElementsByClassName("tron-switch");for(let t=0;t<this.switch_btn.length;t++)this.switch_btn[t].onclick=function(){e.set_switch_mode(this.id,e.switch_mode(this.id),!0)}}switch_mode(e){return"ON"==document.getElementById(e+"-mode").innerText}set_switch_mode(e,t,s=!1){let a=document.getElementById(e+"-mode"),o=document.getElementById(e);function i(t){let s=o.parentElement.nextElementSibling;is_in(e,panel2disable)&&(1==t?(s.classList.add("disabled"),s.disabled=!0):(s.classList.remove("disabled"),s.disabled=!1))}s?"ON"==t||!0===t?(a.innerText="OFF",o.classList.remove("active"),i(!0)):(a.innerText="ON",o.classList.add("active"),i(!1)):"ON"==t||!0===t?(a.innerText="ON",o.classList.add("active"),i(!1)):(a.innerText="OFF",o.classList.remove("active"),i(!0))}}let switchBtn=new SwitchBtn_;class Pagination{pagination(){var e=document.getElementById("pagination-prev"),t=document.getElementById("pagination-next");0!=datas.current_page_index?(e.href="../"+datas.pages_list[datas.current_page_index-1]+"/"+datas.pages_list[datas.current_page_index-1]+".html",e.onclick=function(){localStorage.setItem(datas.proj_name,datas.current_page_index-1)}):e.classList.add("hidden"),datas.current_page_index!=datas.pages_list.length-1?(t.href="../"+datas.pages_list[datas.current_page_index+1]+"/"+datas.pages_list[datas.current_page_index+1]+".html",t.onclick=function(){localStorage.setItem(datas.proj_name,datas.current_page_index+1)}):t.classList.add("hidden")}}let pagination=new Pagination;pagination.pagination();class PageStyler{constructor(){this.border_enabled=!1,this.border_color="#bbb",this.border_width="1",this.space_enabled=!0,this.space_height="3em",this.img_div1=document.getElementById("images"),this.eleIMG=document.getElementsByClassName("per_img"),this.breaks=document.getElementsByClassName("Break_in_image"),this.S_image_border=document.getElementById("S-image-border"),this.S_image_space=document.getElementById("S-image-space")}set_default_style(){var e=["bd","se",1,1];this.set_menu_style(e),this.set_local_style(e),this.display_changes(e)}get_local_style(){return JSON.parse(localStorage.getItem("style?"+datas.proj_name))}set_local_style(e){localStorage.setItem("style?"+datas.proj_name,JSON.stringify(e))}get_menu_style(){var e=[];1==this.S_image_border.classList.contains("active")?e.push("be"):e.push("bd"),1==this.S_image_space.classList.contains("active")?e.push("se"):e.push("sd");for(var t=document.getElementsByName("border-color"),s=0,a=0;a<t.length;a++)t[a].checked&&(s=t[a].value);return e.push(s),e.push(document.getElementsByName("border-width")[0].value),e}set_menu_style(e){var t=e;this.set_local_style(e),"be"==t[0]?switchBtn.set_switch_mode("S-image-border","ON"):switchBtn.set_switch_mode("S-image-border","OFF"),"se"==t[1]?switchBtn.set_switch_mode("S-image-border","ON"):switchBtn.set_switch_mode("S-image-border","OFF");for(var s=document.getElementsByName("border-color"),a=0;a<s.length;a++)s[a].value==t[2]&&(s[a].checked=!0);document.getElementsByName("border-width")[0].value=t[3],"sd"==t[1]?switchBtn.set_switch_mode("S-image-space","OFF"):switchBtn.set_switch_mode("S-image-space","ON")}display_changes(e){var t="#000";if("be"==e[0]){"2"==e[2]?t="#fff":"3"==e[2]&&(t="var(--theme-color)");var s=parseInt(e[3]);datas.set_css("--border-width",1.5*(1+s)+"px"),datas.set_css("--border-color",t)}"bd"==e[0]&&(datas.set_css("--border-width","0"),datas.set_css("--border-color","transparent")),"sd"==e[1]&&datas.set_css("--space-height","0"),"se"==e[1]&&datas.set_css("--space-height","3em")}load_style_on_start(){const e=this.get_local_style();null==e?this.set_default_style():(this.set_menu_style(e),this.display_changes(e))}change_style(){var e=this.get_menu_style();this.set_local_style(e),this.display_changes(e)}}let page_styler=new PageStyler;document.getElementById("mySidebarR").onclick=function(){page_styler.change_style()};class Image_loader{load_image(e){const t=document.createElement("div");t.className="Break_in_image";for(var s=document.getElementById("images"),a=0;a<datas.images_loc.length;a++){var o=document.createElement("IMG");o.src=datas.images_loc[a],o.className="per_img",o.alt="It seems image is not found ("+datas.images_loc[a]+")",o.style.display="block",o.style.margin="auto",s.appendChild(o),a<datas.images_loc.length-1&&s.appendChild(t.cloneNode(!0))}}}let image_loader=new Image_loader;image_loader.load_image(),page_styler.load_style_on_start();class Modal_img{constructor(){this.modal=document.getElementById("myModal"),this.images=document.getElementsByClassName("per_img"),this.modalImg=document.getElementById("img01"),this.modalContent=document.getElementById("image-modal-content"),this.captionText=document.getElementById("caption"),this.js_img_src=[],this.modal_img_indx=-1,this.LArrow=document.getElementById("prev_view"),this.RArrow=document.getElementById("next_view")}assign_modals_in_img(){for(var e=this,t=0;t<this.images.length;t++){var s=e.images[t];e.js_img_src.push(s.src),s.onclick=function(){window.innerWidth<700?e.modalImg.style.width="100vw":e.modalImg.style.width="80vw",e.modal.style.display="initial",e.modalImg.style.display="initial",e.modalImg.src=this.src,e.modal_img_indx=e.js_img_src.indexOf(this.src),e.captionText.innerHTML=datas.images_loc[e.modal_img_indx].split("/").pop().split(".")[0],document.body.classList.add("overflowHidden"),0==e.modal_img_indx?e.LArrow.style.display="none":e.LArrow.style.display="block",e.modal_img_indx+1==e.js_img_src.length?e.RArrow.style.display="none":e.RArrow.style.display="block",e.modal.onkeydown=document.addEventListener("keydown",e.key_control)}}this.create_close_button()}set_modal_state(e){e?this.modalImg.setAttribute("data-state",1):this.modalImg.setAttribute("data-state",2)}async change_image(e){const t=e<0,s=this.modal_img_indx+e;if(s>=this.images.length||s<0)return 0;this.modal_img_indx+=e,this.set_modal_state(t),await tools.sleep(250),this.modalImg.style.display="none",this.modalImg.setAttribute("data-state",0),this.modalImg.src=this.js_img_src[this.modal_img_indx],this.captionText.innerHTML=datas.images_loc[this.modal_img_indx].split("/").pop().split(".")[0],document.getElementsByClassName("close-image-modal")[0].scrollIntoView(),this.modal_img_indx+1==this.js_img_src.length?this.RArrow.style.display="none":this.RArrow.style.display="block",0==this.modal_img_indx?this.LArrow.style.display="none":this.LArrow.style.display="block",this.modalImg.style.display="block"}create_close_button(){var e=this;document.getElementsByClassName("close-image-modal")[0].onclick=function(){e.modal.style.display="none",document.removeEventListener("keydown",e.key_control),document.body.classList.remove("overflowHidden")}}key_control(e){var t=modal_img;40==e.keyCode&&(t.modalImg.style.width=.9*t.modalImg.width+"px"),38==e.keyCode&&(t.modalImg.style.width=1.1*t.modalImg.width+"px"),37==e.keyCode&&t.change_image(-1),39==e.keyCode&&t.change_image(1),27==e.keyCode&&(t.modal.style.display="none",document.removeEventListener("keydown",t.key_control),document.body.classList.remove("overflowHidden"))}}let modal_img=new Modal_img;modal_img.assign_modals_in_img();class Popup_Msg{togglePopup(e,t=null){document.getElementById("popup-"+e).classList.toggle("active")}}let popup_msg=new Popup_Msg;class Local_Data_Manager{constructor(){this.last_opened=localStorage.getItem(datas.proj_name)}show_last_opened(){if("undefined"!=this.last_opened||null!=this.last_opened)return localStorage.setItem(datas.proj_name,datas.current_page_index),void(this.last_opened=datas.current_page_index);this.last_opened==datas.current_page_index&&-1!=this.last_opened&&(document.getElementById("last").innerHTML="You left the page on <a id= 'lastleft' href='../"+datas.pages_list[localStorage.getItem(datas.proj_name)]+"/"+datas.pages_list[localStorage.getItem(datas.proj_name)]+".html'>"+datas.pages_list[localStorage.getItem(datas.proj_name)]+"</a><br> Click on the link to go there<hr>Close this dialog to continue from here",popup_msg.togglePopup("1",1))}}let local_data_manager=new Local_Data_Manager;local_data_manager.show_last_opened();var prevScrollpos=window.pageYOffset;function fuck(e=""){alert("fuck"+e)}window.onscroll=function(){var e=window.pageYOffset;prevScrollpos>e?(document.getElementById("TopBar").style.top="0",document.body.style.top="50px"):(document.getElementById("TopBar").style.top="-50px",document.body.style.top="0"),prevScrollpos=e};class Sidebar_control{constructor(){this.left_bar=document.getElementById("mySidebarL"),this.right_bar=document.getElementById("mySidebarR"),this.app_name=document.getElementById("app_name")}is_open(e){return"mySidebar-active"in document.getElementById("mySidebar"+e).classList}toggle_left(){this.is_open("L")?this.closeNavL():(this.closeNavR(),document.body.clientWidth<340?(this.left_bar.classList.toggle("mySidebar-active-full"),document.body.classList.add("overflowHidden")):document.body.clientWidth<450?this.left_bar.classList.toggle("mySidebar-active-mid"):(this.left_bar.classList.toggle("mySidebar-active"),document.getElementById("app_header").classList.toggle("top-titleR-active")))}toggle_right(){this.is_open("R")?this.closeNavR():(this.closeNavL(),document.body.clientWidth<340?(this.right_bar.classList.toggle("mySidebar-active-full"),document.body.classList.add("overflowHidden")):document.body.clientWidth<450?this.right_bar.classList.toggle("mySidebar-active-mid"):(this.right_bar.classList.toggle("mySidebar-active"),document.getElementById("app_header").classList.toggle("top-titleR-active")))}closeNavL(){this.left_bar.classList.remove("mySidebar-active","mySidebar-active-full","mySidebar-active-mid"),document.body.classList.remove("overflowHidden"),document.getElementById("app_header").classList.remove("top-titleL-active"),tools.sleep(3e3)}closeNavR(){this.right_bar.classList.remove("mySidebar-active","mySidebar-active-full","mySidebar-active-mid"),document.body.classList.remove("overflowHidden"),tools.sleep(3e3)}}let sidebar_control=new Sidebar_control;class Slider_control_{constructor(){this.slider=document.getElementsByClassName("ranger");for(let e=0;e<this.slider.length;e++)this.slider[e].style.setProperty("--value",10*this.slider[e].value),this.slider[e].addEventListener("input",function(){this.style.setProperty("--value",10*this.value)});this.slider_ticks=document.getElementsByClassName("slider-tick")}border_slider_width(e){return this.slider[e].clientWidth}slider_fix_tick(e=""){for(let e=0;e<this.slider_ticks.length;e++)this.slider_ticks[e].parentElement.style.setProperty("--tick-spacing",(this.border_slider_width(e)-42)/10+"px")}}let slider_control=new Slider_control_;slider_control.slider_fix_tick(),window.addEventListener("resize",slider_control.slider_fix_tick.bind(slider_control));class Project_Panel_{constructor(){this.rside_project=document.getElementById("proj-panel-body"),this.input_=document.getElementById("proj_search_input"),this.button_=document.getElementById("proj_search_icn")}show_search_results(){var e=this,t=this.input_.value.toLowerCase();this.rside_project.innerHTML="",t.length>0?(this.input_.setAttribute("data-state","1"),this.button_.innerHTML="&#x2716;",this.button_.onclick=function(){e.input_.value="",e.input_.setAttribute("data-state","0"),this.innerHTML="&#x1F50E;&#xFE0E;",e.show_search_results()}):(this.input_.setAttribute("data-state","0"),this.button_.innerHTML="&#x1F50E;&#xFE0E;");for(let e=0;e<datas.pages_list.length;e++)if(-1!==datas.pages_list[e].toLowerCase().indexOf(t)){var s=document.createElement("div");s.classList.add("proj-panel-item"),e==datas.current_page_index?s.classList.add("proj-panel-item-active"):s.onclick=function(){const t="../"+datas.pages_list[e]+"/"+datas.pages_list[e]+".html";window.location.href=t},s.innerHTML=datas.pages_list[e],this.rside_project.appendChild(s)}}}let project_panel=new Project_Panel_;function show_credits(){sidebar_control.is_open("R")&&sidebar_control.toggle_right(),popup_msg_open?(popup_msg.togglePopup("2",0),document.body.classList.remove("overflowHidden"),popup_msg_open=!1):(document.getElementById("Popup-header").innerHTML="Credits",document.getElementById("Popup-content").innerHTML="<h3>Created by Ratul Hasan</h3><h2>Special Thanks to:<hr width='80%'></h2><h3>Inul Haque</h3><h3>Sanjida Sirat</h3>",popup_msg.togglePopup("2",1),document.body.classList.add("overflowHidden"),document.getElementById("popup-2").getElementsByClassName("close-btn")[0].onclick=show_credits,popup_msg_open=!0)}function show_about(){sidebar_control.is_open("R")&&sidebar_control.toggle_right(),popup_msg_open?(popup_msg.togglePopup("2",0),document.body.classList.remove("overflowHidden"),popup_msg_open=!1):(document.getElementById("Popup-header").innerHTML="About",document.getElementById("Popup-content").innerHTML="<b>App version:</b> "+datas.app_version+"<br><b>Page Version:</b> "+datas.page_version,popup_msg.togglePopup("2",1),document.body.classList.add("overflowHidden"),document.getElementById("popup-2").getElementsByClassName("close-btn")[0].onclick=show_credits,popup_msg_open=!0)}function show_help(){if(sidebar_control.is_open("R")&&sidebar_control.toggle_right(),popup_msg_open)popup_msg.togglePopup("2",0),document.body.classList.remove("overflowHidden"),popup_msg_open=!1,helped_user(1);else{document.getElementById("Popup-header").innerHTML="Help";let e="1. Open focus mode by clicking on image <br>            2. Use <b>Sidebar</b> to quick access other pages <br>            3. From settings you can change or customize theme style <br>            4. You can also change brightness level of the page <br>            5. On focus mode you can use keyboard to resize and move to next or previous image <br>            <hr>            <b>Note:</b> Theme style is reused all over the Project <br>            *EXCEPT Brightness level, it only stays until the session ends";document.getElementById("Popup-content").innerHTML=e,popup_msg.togglePopup("2",1),document.body.classList.add("overflowHidden"),document.getElementById("popup-2").getElementsByClassName("close-btn")[0].onclick=show_help,popup_msg_open=!0}}project_panel.show_search_results(),project_panel.input_.addEventListener("input",project_panel.show_search_results.bind(project_panel)),0==helped_user()&&show_help();